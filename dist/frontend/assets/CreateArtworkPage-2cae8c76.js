import{d as S,q as k,a as D,r as m,K as b,b as G,e,f as o,k as c,m as f,N as P,o as j,t as a,H as x,P as A,i as h,O as B}from"./index-c50fc4de.js";import{_ as V}from"./MyImageFileComponent-a5736129.js";import{c as T,a as F,d as y}from"./index.esm-3e222fcc.js";const E={class:"creator__area"},O=e("div",{class:"creator__banner include-bg","data-background":"/img/create/create-bg.jpg",style:{"background-image":"url('/img/create/create-bg.jpg')"}},null,-1),H=e("div",{class:"creator__border"},null,-1),M={class:"container"},$={class:"row"},J={class:"col-xxl-4 col-xl-4 col-lg-4"},U={class:"create__preview mr-70"},z={class:"nft__box theme-bg-dark mb-30 transition-3"},K={class:"nft__box-thumb w-img mb-20"},R={href:"javascript:;"},L=["src"],Q={class:"col-xxl-8 col-xl-8 col-lg-8"},W={class:"create__form pt-55 pb-120"},X={class:"tab-content",id:"nav-tabContent"},Y={class:"tab-pane fade show active",id:"nav-single",role:"tabpanel","aria-labelledby":"nav-single-tab"},Z={class:"row align-items-center"},ee=e("div",{class:"col-xxl-12"},[e("div",{class:"create__input-box"},[e("h4",null,[h("Upload File"),e("span",null,"*")]),e("p",null,"Add your unique image file")])],-1),se={class:"col-xxl-12"},te={class:"create__upload text-center"},oe=e("span",{for:"input-file"},"Select a file",-1),ae={class:"error-message file-error"},ne={class:"col-xxl-12"},ie={class:"create__input-box"},ce=e("h4",null,[h("Name "),e("span",null,"*")],-1),le=e("p",null,"Choose a unique name for your NFT",-1),re={class:"create__input"},_e={class:"error-message"},de={class:"col-xxl-12"},ue={class:"create__input-box"},pe={class:"d-flex justify-content-between"},me=e("h4",null,[h("Price "),e("span",null,"*")],-1),he={class:"d-flex"},ge=e("span",{class:""},"Gas Fee: ",-1),ve={style:{"padding-left":"0.5rem"},class:"fw-bold"},be=e("p",null,null,-1),fe={class:"create__input"},xe={class:"text-center d-block"},Fe={class:"error-message"},ye={class:"col-xxl-12"},we={class:"create__input-box"},Ce=e("h4",null,"Description",-1),Ie=e("p",null," Describe your NFT, help other users understand what's unique about it ",-1),qe={class:"create__input"},Ne={class:"error-message"},Se={class:"col-xxl-12"},ke={class:"create__btn"},De=e("button",{type:"submit",class:"tp-btn-3"}," Create Item ",-1),Ge={class:"error-message"},Ve=S({__name:"CreateArtworkPage",setup(Pe){const d=k(),w=D(),r=m(0),u=m(),g=m(),v=(t,s)=>{u.value=t,g.value=s==null?void 0:s.src},C=async(t,s)=>{if(!u.value)return;const n=new FormData;n.append("item",u.value),n.append("title",t.title),n.append("description",t.description),n.append("amount",t.amount),await w.createItem(n)&&(s.resetForm(),v())},I=T({title:F().required("Title is required"),description:F().required("Description is required"),amount:y().typeError("Amount is required").positive("Amount is not valid").required("Amount is required"),gasFee:y().test(function(){if(d.user&&b.value.gasFee>d.user.mainBalance)throw this.createError({message:"Insufficient balance to pay for Gas Fee"});return!0})});return(t,s)=>{const n=V,l=B,q=P;return j(),G("section",E,[O,H,e("div",M,[e("div",$,[e("div",J,[e("div",U,[e("div",z,[e("div",K,[e("a",R,[e("img",{src:o(g)||"/img/placeholder-image.png",alt:""},null,8,L)])])])])]),e("div",Q,[e("div",W,[c(q,{"validation-schema":o(I),onSubmit:s[1]||(s[1]=(i,_)=>C(i,_))},{default:f(({errors:i})=>{var _;return[e("div",X,[e("div",Y,[e("div",Z,[ee,e("div",se,[c(n,{name:"profile",class:"w-100",type:["image/jpg","image/jpeg","image/png"],size:11e6,onChange:v},{default:f(({errors:p,filename:N})=>[e("div",te,[e("p",null,a(N||"Max 11MB, PNG, JPEG, JPG"),1),oe]),e("span",ae,a(p[0]),1)]),_:2},1024)]),e("div",ne,[e("div",ie,[ce,le,e("div",re,[c(l,{type:"text",placeholder:"Title",name:"title","validate-on-input":!0}),e("span",_e,a(i.title),1)])])]),e("div",de,[e("div",ue,[e("div",pe,[me,e("div",he,[ge,e("span",ve,a(o(x).toCurreny(("CONFIG"in t?t.CONFIG:o(b)).gasFee)),1)])]),be,e("div",fe,[c(l,{type:"number",placeholder:"Price",name:"amount","validate-on-input":!0,modelValue:o(r),"onUpdate:modelValue":s[0]||(s[0]=p=>A(r)?r.value=p:null)},null,8,["modelValue"]),e("span",xe,a("â‰ˆ "+o(x).toDollar(o(r))),1),e("span",Fe,a(i.amount),1)])])]),e("div",ye,[e("div",we,[Ce,Ie,e("div",qe,[c(l,{name:"description",as:"textarea",rows:"5",placeholder:"Description","validate-on-input":!0}),e("span",Ne,a(i.description),1)]),c(l,{type:"hidden",name:"gasFee",value:((_=o(d).user)==null?void 0:_.mainBalance)||0},null,8,["value"])])]),e("div",Se,[e("div",ke,[De,e("span",Ge,a(i.gasFee),1)])])])])])]}),_:1},8,["validation-schema"])])])])])])}}});export{Ve as default};
