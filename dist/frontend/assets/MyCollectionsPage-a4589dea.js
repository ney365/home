import{d as V,r as u,q as H,a as q,c as w,s as D,R as B,l as $,b as c,e,k as a,m,F as A,h as x,f as o,j as K,x as T,T as U,o as i,i as k,I as O,H as p,t as n,K as z,O as J}from"./index-c50fc4de.js";import{_ as Q}from"./MySearchComponent-9a3a7482.js";import{_ as W}from"./breadcrumb-shape-1-d7e59f85.js";import{c as X,d as Y}from"./index.esm-3e222fcc.js";const Z=K('<section class="breadcrumb__area breadcrumb__border pt-160 pb-85 p-relative"><div class="breadrumb__shape"><img class="breadcrumb__shape-1" src="'+W+'" alt=""></div><div class="container"><div class="row"><div class="col-xxl-12"><div class="breadcrumb__content text-center"><h3 class="breadcrumb__title">My Collections</h3></div></div></div></div></section>',1),ee={class:"d-flex justify-content-center gap-2 mt-20"},se={class:"d-flex justify-content-center gap-2 mt-20"},te={class:"header__search"},oe={class:"upcoming__area pt-70 pb-120"},ae={class:"container"},ne={class:"row"},le={class:"col-xxl-12"},ce={class:"upcoming__wrapper"},ie={class:"upcoming__item"},re={class:"upcoming__table"},de={class:"table"},_e=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Action"),e("th",{scope:"col"},"Item"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"Amount"),e("th",{scope:"col"},"Date Owned")])],-1),ue={class:"stats-item"},me=["onClick"],pe=e("span",null,"Set on Sales",-1),he=[pe],fe={key:1,class:"text-center w-100",href:"javascript:;",disabled:""},ve={class:"upcoming__single d-flex align-items-center"},be={class:"upcoming__thumb mr-10"},Ce=["src"],ge={class:"upcoming__content"},Ie={"data-label":"Items Owned",class:"stats-item"},Se={"data-label":"AVG PURCHASE PRICE",class:"stats-item"},ye={"data-label":"AVG PURCHASE PRICE",class:"stats-item"},we={class:"w-100"},Ae={class:"mb-3"},ke={class:"d-flex justify-content-between"},Oe=e("label",{class:"form-label"},"Price",-1),Ne={class:"d-flex"},Fe=e("span",{class:""},"Gas Fee: ",-1),Le={style:{"padding-left":"0.5rem"},class:"fw-bold"},Me={class:"error-message"},qe=V({__name:"MyCollectionsPage",setup(Re){const b=u(""),N=s=>b.value=s,h=H().user,r=q(),F=w(()=>r.items.filter(s=>s.user&&s.user._id===(h==null?void 0:h._id)&&s.title.toLowerCase().includes(b.value.toLowerCase())));w(()=>r.loaded).value||r.fetchAll();const C=u(!1),L=s=>C.value=s,d=D({status:B.INFO,title:"",message:"",onConfirm:()=>{}}),_=u(),g=u(!1),f=s=>g.value=s,M=s=>{_.value=s,f(!0)},R=async s=>{if(!_.value)return;await r.sell(s)&&f(!1)},j=X({amount:Y().typeError("Amount is required").positive("Amount is not valid").required("Amount is required")});return(s,l)=>{const v=$("RouterLink"),E=Q,P=T,I=J,G=U;return i(),c(A,null,[Z,e("div",ee,[a(v,{to:{name:"create-artwork"},class:"header__wallet-btn"},{default:m(()=>[k(" Create New ")]),_:1})]),e("div",se,[e("div",te,[a(E,{onKeyup:N})])]),e("section",oe,[e("div",ae,[e("div",ne,[e("div",le,[e("div",ce,[e("div",ie,[e("div",re,[e("table",de,[_e,e("tbody",null,[(i(!0),c(A,null,x(o(F),t=>(i(),c("tr",{key:t._id},[e("td",ue,[t.status!==("ItemStatus"in s?s.ItemStatus:o(O)).ON_SALE&&t.status!==("ItemStatus"in s?s.ItemStatus:o(O)).SOLD?(i(),c("a",{key:0,onClick:()=>M(t),class:"fav-counter position-static justify-content-center",href:"javascript:;"},he,8,me)):(i(),c("button",fe," --- "))]),e("td",null,[e("div",ve,[e("div",be,[a(v,{to:{name:"item",params:{itemId:(t==null?void 0:t._id)||"ii"}}},{default:m(()=>[e("img",{src:("helpers"in s?s.helpers:o(p)).toImagePath("item","profile",t.cover),alt:""},null,8,Ce)]),_:2},1032,["to"])]),e("div",ge,[a(v,{to:{name:"item",params:{itemId:(t==null?void 0:t._id)||"ii"}}},{default:m(()=>[k(n(t.title),1)]),_:2},1032,["to"])])])]),e("td",Ie,n(t.status),1),e("td",Se,n(("helpers"in s?s.helpers:o(p)).toCurreny(t.amount)),1),e("td",ye,n(("helpers"in s?s.helpers:o(p)).toNiceDate(t.dateOwned||t.createdAt)),1)]))),128))])])])])])])])])]),a(P,{"is-open":o(C),status:o(d).status,title:o(d).title,message:o(d).message,onConfirm:o(d).onConfirm,onClose:l[0]||(l[0]=()=>L(!1))},null,8,["is-open","status","title","message","onConfirm"]),a(G,{"is-open":o(g),"validation-schema":o(j),onConfirm:R,onClose:l[1]||(l[1]=()=>f(!1)),title:"Sell Artwork"},{default:m(({errors:t})=>{var S,y;return[e("div",we,[e("div",Ae,[a(I,{type:"hidden",name:"itemId",value:(S=o(_))==null?void 0:S._id},null,8,["value"]),e("div",ke,[Oe,e("div",Ne,[Fe,e("span",Le,n(("helpers"in s?s.helpers:o(p)).toCurreny(("CONFIG"in s?s.CONFIG:o(z)).gasFee)),1)])]),a(I,{name:"amount",type:"number",placeholder:"Amount",class:"form-control","validate-on-input":!0,value:(y=o(_))==null?void 0:y.amount},null,8,["value"]),e("span",Me,n(t.amount),1)])])]}),_:1},8,["is-open","validation-schema"])],64)}}});export{qe as default};
