import{a1 as $,S,r as w,a2 as s}from"./index-c50fc4de.js";const m=$("withdrawalMethod",()=>{const a=S(),r="withdrawal-method",d=w([]),i=w(!1);function n(t){d.value=t}function l(t){i.value=t}function u(t,e){const o=d.value;if(!o)return;const h=o.findIndex(c=>c._id===t);o[h]=e,n(o)}async function f(t){try{a.setPost(!0);const e=await s.patch(`${r}/update-status`,t);u(t.withdrawalMethodId,e.data.data.withdrawalMethod),a.handlePost(e)}catch(e){console.error(e),a.handlePost(e.response)}}async function p(){l(!1);try{const t=await s.get(`${r}/master`);n(t.data.data.withdrawalMethods)}catch(t){console.error(t),a.handlePost(t.response)}l(!0)}async function M(){l(!1);try{const t=await s.get(`${r}`);n(t.data.data.withdrawalMethods)}catch(t){console.error(t),a.handlePost(t.response)}l(!0)}async function P(t){try{a.setPost(!0);const e=await s.post(`${r}/create`,t),{withdrawalMethod:o}=e.data.data;n([...d.value,o]),a.handlePost(e)}catch(e){console.error(e),a.handlePost(e.response)}}async function y(t){try{a.setPost(!0);const e=await s.put(`${r}/update`,t);u(t.withdrawalMethodId,e.data.data.withdrawalMethod),a.handlePost(e)}catch(e){console.error(e),a.handlePost(e.response)}}async function W(t){try{a.setPost(!0);const e=await s.delete(`${r}/delete/${t}`),o=d.value;if(!o)return;const h=o.filter(c=>c._id!==t);n(h),a.handlePost(e)}catch(e){console.error(e),a.handlePost(e.response)}}return{loaded:i,withdrawalMethods:d,fetchAll:p,fetchUserAll:M,addNewWithdrawalMethod:P,updateWithdrawalMethodStatus:f,deleteWithdrawalMethod:W,updateWithdrawalMethod:y}});export{m as u};
