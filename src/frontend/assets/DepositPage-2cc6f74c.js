import{d as I,r as v,c as D,s as R,R as h,b as _,e,F as N,h as V,f as s,k,j as L,x as $,o as u,m as x,a0 as i,i as f,g as b,Z as g,H as n,t as l}from"./index-c50fc4de.js";import{_ as M}from"./MyDotDropdownComponent-b0d2efac.js";import{_ as T}from"./breadcrumb-shape-1-d7e59f85.js";import{u as G}from"./deposit.store-8e1b5c63.js";const F=L('<section class="breadcrumb__area breadcrumb__border pt-160 pb-85 p-relative"><div class="breadrumb__shape"><img class="breadcrumb__shape-1" src="'+T+'" alt=""></div><div class="container"><div class="row"><div class="col-xxl-12"><div class="breadcrumb__content text-center"><h3 class="breadcrumb__title">Users Deposit</h3></div></div></div></div></section>',1),H={class:"upcoming__area pt-70 pb-120"},B={class:"container"},U={class:"row"},z={class:"col-xxl-12"},W={class:"upcoming__wrapper"},Z={class:"upcoming__item"},q={class:"upcoming__table"},J={class:"table"},K=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Action"),e("th",{scope:"col"},"Status"),e("th",{scope:"col"},"User"),e("th",{scope:"col"},"Amount"),e("th",{scope:"col"},"Currency"),e("th",{scope:"col"},"Network"),e("th",{scope:"col"},"Registered")])],-1),Q={class:"stats-item"},X=["onClick"],Y=e("i",{class:g("bi bi-check-circle me-2")},null,-1),ee=["onClick"],se=e("i",{class:g("bi bi-slash-circle me-2")},null,-1),te=["onClick"],oe=e("i",{class:"bi bi-trash me-2"},null,-1),ae={class:"stats-item"},ne={class:"upcoming__single d-flex align-items-center"},ie={class:"upcoming__thumb mr-10"},le={href:"javascript:;"},ce=["src"],re={class:"upcoming__content"},de={class:"mb-0"},_e={href:"javascript:;"},ue={class:"mb-0"},me={class:"stats-item"},pe={class:"upcoming__single d-flex align-items-center"},he={class:"upcoming__thumb mr-10"},ve=["src"],fe={class:"upcoming__content"},be={href:"javascript:;"},ge={class:"stats-item"},Ce={class:"stats-item"},Ee=I({__name:"DepositPage",setup(De){const c=v(!1),r=v(),w=t=>r.value=t,p=v(),y=t=>p.value=t,m=G(),A=D(()=>m.deposits.filter(t=>t.user));D(()=>m.loaded).value||m.fetchAll();const a=R({status:h.INFO,title:"",message:"",onConfirm:()=>{}}),C=(t,d)=>{w(t),y(d),d===i.APPROVED?(a.status=h.INFO,a.title="Do you really wants to approve this deposit?",a.message=`Approving this deposit will credit ${n.toTitleCase(t.user.username)} with the sum of ${n.toDollar(t.amount)} and cannot be reversed.`):(a.status=h.WARNING,a.title="Do you really wants to cancel this deposit?",a.message=`Canceling this deposit mark it has ${d} whereby the user will not be credited`),a.onConfirm=P,c.value=!0},E=t=>{r.value=t,a.status=h.DANGER,a.title="Do you really wants to delete this deposit?",a.message="Deleting this deposit can not be reversed",a.onConfirm=S,c.value=!0},P=()=>{r.value&&(p.value!==i.APPROVED&&p.value!==i.CANCELLED||(c.value=!1,m.updateStatus(r.value._id,p.value)))},S=()=>{r.value&&(c.value=!1,m.deleteOne(r.value._id))};return(t,d)=>{const j=M,O=$;return u(),_(N,null,[F,e("section",H,[e("div",B,[e("div",U,[e("div",z,[e("div",W,[e("div",Z,[e("div",q,[e("table",J,[K,e("tbody",null,[(u(!0),_(N,null,V(s(A),o=>(u(),_("tr",{key:o._id},[e("td",Q,[k(j,null,{default:x(()=>[o.status===s(i).PENDING?(u(),_("a",{key:0,onClick:()=>C(o,s(i).APPROVED),class:"dropdown-item border-bottom",href:"javascript:;"},[Y,f("Approve")],8,X)):b("",!0),o.status===s(i).PENDING?(u(),_("a",{key:1,onClick:()=>C(o,s(i).CANCELLED),class:"dropdown-item",href:"javascript:;"},[se,f("Cancel")],8,ee)):b("",!0),o.status!==s(i).PENDING?(u(),_("a",{key:2,onClick:()=>E(o),class:"dropdown-item",href:"javascript:;"},[oe,f("Delete")],8,te)):b("",!0)]),_:2},1024)]),e("td",ae,[e("span",{class:g(`badge light badge-${s(n).toStatus(o.status)}`)},l(s(n).toTitleCase(o.status)),3)]),e("td",null,[e("div",ne,[e("div",ie,[e("a",le,[e("img",{src:("helpers"in t?t.helpers:s(n)).toImagePath("profile","nav",o.user.profile),alt:""},null,8,ce)])]),e("div",re,[e("p",de,[e("a",_e,l(("helpers"in t?t.helpers:s(n)).toTitleCase(o.user.name)),1)]),e("p",ue," @"+l(("helpers"in t?t.helpers:s(n)).toTitleCase(o.user.username)),1)])])]),e("td",me,l(s(n).toCurreny(o.amount)),1),e("td",null,[e("div",pe,[e("div",he,[e("img",{src:`/svg/crypto-svg/${o.depositMethodObject.logo}`,alt:""},null,8,ve)]),e("div",fe,[e("a",be,l(s(n).toTitleCase(o.depositMethodObject.name)),1)])])]),e("td",ge,l(o.depositMethodObject.network.toUpperCase()),1),e("td",Ce,l(s(n).toNiceDate(o.createdAt)),1)]))),128))])])])])])])])])]),k(O,{"is-open":s(c),status:s(a).status,title:s(a).title,message:s(a).message,onConfirm:s(a).onConfirm,onClose:d[0]||(d[0]=o=>c.value=!1)},null,8,["is-open","status","title","message","onConfirm"])],64)}}});export{Ee as default};
