import{d as N,q as U,n as k,r as p,K as b,b as q,e as s,k as a,m as _,f as t,N as j,i as g,o as B,t as l,O as $}from"./index-c50fc4de.js";import{_ as z}from"./MyImageFileComponent-a5736129.js";import{c as x,a as d,b as D}from"./index.esm-3e222fcc.js";const E={class:"edit__profile pt-80 pb-120"},O={class:"edit__profile"},V={class:"container-fluid fix p-0"},A={class:"row"},M={class:"col-xxl-12"},G={class:"profile__cover-wrapper p-relative"},H={class:"profile__cover w-img tp-img-cover",style:{"min-height":"100px","max-height":"160px",overflow:"hidden"}},K=["src"],R=s("div",{class:"profile__cover-edit"},[s("span",null,[s("i",{class:"fa-regular fa-pen-to-square"})])],-1),T={class:"error-message file-error"},Y={class:"row"},Z={class:"col-xxl-12"},J={class:"profile__thumb-wrapper text-center"},L={class:"profile__thumb text-center tp-img-profile d-inline-block p-relative"},Q=["src"],W=s("div",{class:"profile__thumb-edit"},[s("span",null,[s("i",{class:"fa-regular fa-camera"})])],-1),X={class:"error-message file-error"},ss={class:"container mt-80"},es={class:"row"},os=s("div",{class:"col-xxl-4 col-lg-4"},[s("div",{class:"profile__tab mr-40"},[s("nav",null,[s("div",{class:"nav nav-tabs flex-column",id:"profile-tab",role:"tablist"},[s("button",{class:"nav-link active",id:"nav-information-tab","data-bs-toggle":"tab","data-bs-target":"#nav-information",type:"button",role:"tab","aria-controls":"nav-information","aria-selected":"false"},[s("i",{class:"fa-regular fa-user-pen"}),g("Profile Information ")]),s("button",{class:"nav-link",id:"nav-password-tab","data-bs-toggle":"tab","data-bs-target":"#nav-password",type:"button",role:"tab","aria-controls":"nav-password","aria-selected":"false"},[s("i",{class:"fa-regular fa-lock"}),g("Change Password ")])])])])],-1),as={class:"col-xxl-8 col-lg-8"},ts={class:"profile__tab-content"},is={class:"tab-content",id:"profile-tabContent"},ls={class:"tab-pane fade show active",id:"nav-information",role:"tabpanel","aria-labelledby":"nav-information-tab"},ns={class:"profile__info"},cs={class:"profile__info-content"},rs={class:"row"},ds={class:"col-xxl-6 col-md-6"},_s={class:"profile__input-box"},ps=s("h4",null,"Full Name",-1),ms={class:"profile__input"},us=s("i",{class:"fa-light fa-user"},null,-1),hs={class:"error-message"},vs={class:"col-xxl-6 col-md-6"},fs={class:"profile__input-box"},bs=s("h4",null,"Username",-1),gs={class:"profile__input"},xs=s("i",{class:"fa-light fa-user"},null,-1),ws={class:"error-message"},Ps={class:"col-xxl-12"},ys={class:"profile__input-box"},Cs=s("h4",null,"Email",-1),Ss={class:"profile__input"},Is=["value"],Fs=s("i",{class:"fa-light fa-envelope"},null,-1),Ns={class:"col-xxl-12"},Us={class:"profile__input-box"},ks=s("h4",null,"Your Bio",-1),qs={class:"profile__input"},js={class:"error-message"},Bs=s("div",{class:"col-xxl-12"},[s("div",{class:"profile__btn"},[s("button",{class:"tp-btn-3"},"Update")])],-1),$s={class:"tab-pane fade",id:"nav-password",role:"tabpanel","aria-labelledby":"nav-password-tab"},zs={class:"profile__password"},Ds={class:"row"},Es={class:"col-xxl-12"},Os={class:"profile__input-box"},Vs=s("h4",null,"Current Password",-1),As={class:"profile__input"},Ms={class:"error-message"},Gs={class:"col-xxl-6 col-md-6"},Hs={class:"profile__input-box"},Ks=s("h4",null,"New Password",-1),Rs={class:"profile__input"},Ts={class:"error-message"},Ys={class:"col-xxl-6 col-md-6"},Zs={class:"profile__input-box"},Js=s("h4",null,"Confirm Password",-1),Ls={class:"profile__input"},Qs={class:"error-message"},Ws=s("div",{class:"col-xxl-6 col-md-6"},[s("div",{class:"profile__btn"},[s("button",{type:"submit",class:"tp-btn-3"},"Update")])],-1),te=N({__name:"ProfileInfoPage",setup(Xs){const m=U(),u=k(),e=m.user,n=p({}),w=i=>{n.value.profile=i},P=i=>{n.value.cover=i},y=()=>{if(!n.value.profile&&!n.value.cover)return;const i=new FormData;i.append("profile",n.value.profile),i.append("cover",n.value.cover),u.updateProfileImage(i)},C=x({name:d().min(3).max(30).required(),bio:d(),username:d().min(3).max(30).required().matches(/^[a-zA-Z0-9]+$/,"Username must be alphanumeric")}),S=x({oldPassword:d().required().label("current password"),password:d().min(8).required(),confirmPassword:d().required().label("confirm password").oneOf([D("password")],"Password should match")}),I=p(e!=null&&e.cover?b.value.baseImageUrl+"/cover/cover-profile/"+(e==null?void 0:e.cover):"/img/content/profile/profile-cover-1.png"),F=p(e!=null&&e.profile?b.value.baseImageUrl+"/profile/profile-main/"+(e==null?void 0:e.profile):"/img/profilebw.png");return(i,se)=>{const h=z,c=$,v=j;return B(),q("section",E,[s("div",O,[s("div",V,[s("div",A,[s("div",M,[s("div",G,[s("div",H,[a(h,{name:"cover",class:"w-100",type:["image/jpg","image/jpeg","image/png"],size:11e6,onChange:P},{default:_(({errors:o,src:r})=>[s("img",{src:r||t(I),alt:""},null,8,K),R,s("span",T,l(o[0]),1)]),_:1})])])])]),s("div",Y,[s("div",Z,[s("div",J,[s("div",L,[a(h,{name:"profile",type:["image/jpg","image/jpeg","image/png"],size:11e6,onChange:w},{default:_(({errors:o,src:r})=>[s("img",{src:r||t(F),alt:""},null,8,Q),W,s("span",X,l(o[0]),1)]),_:1})])])])])])]),s("div",{class:"d-flex justify-content-center gap-2",style:{"margin-top":"-3rem"}},[s("a",{onClick:y,href:"javascript:;",class:"header__wallet-btn",id:"connectbtn"}," Update Images ")]),s("div",ss,[s("div",es,[os,s("div",as,[s("div",ts,[s("div",is,[s("div",ls,[s("div",ns,[s("div",cs,[a(v,{"validation-schema":t(C),onSubmit:t(u).updateProfile},{default:_(({errors:o})=>{var r,f;return[s("div",rs,[s("div",ds,[s("div",_s,[ps,s("div",ms,[a(c,{type:"text",placeholder:"Name",name:"name",value:t(e).name,"validate-on-input":!0},null,8,["value"]),us,s("span",hs,l(o.name),1)])])]),s("div",vs,[s("div",fs,[bs,s("div",gs,[a(c,{type:"text",placeholder:"Username",name:"username",value:(r=t(e))==null?void 0:r.username,"validate-on-input":!0},null,8,["value"]),xs,s("span",ws,l(o.username),1)])])]),s("div",Ps,[s("div",ys,[Cs,s("div",Ss,[s("input",{type:"email",placeholder:"Enter your email",value:(f=t(e))==null?void 0:f.email,disabled:""},null,8,Is),Fs])])]),s("div",Ns,[s("div",Us,[ks,s("div",qs,[a(c,{name:"bio",as:"textarea",rows:"5",placeholder:"Bio",value:t(e).bio},null,8,["value"]),s("span",js,l(o.bio),1)])])]),Bs])]}),_:1},8,["validation-schema","onSubmit"])])])]),s("div",$s,[s("div",zs,[a(v,{"validation-schema":t(S),onSubmit:t(m).updatePassword},{default:_(({errors:o})=>[s("div",Ds,[s("div",Es,[s("div",Os,[Vs,s("div",As,[a(c,{type:"password",placeholder:"Current Password",name:"oldPassword","validate-on-input":!0}),s("span",Ms,l(o.oldPassword),1)])])]),s("div",Gs,[s("div",Hs,[Ks,s("div",Rs,[a(c,{type:"password",placeholder:"New Password",class:"form-control",name:"password","validate-on-input":!0}),s("span",Ts,l(o.password),1)])])]),s("div",Ys,[s("div",Zs,[Js,s("div",Ls,[a(c,{type:"password",placeholder:"Repeat Password",class:"form-control",name:"confirmPassword","validate-on-input":!0}),s("span",Qs,l(o.confirmPassword),1)])])]),Ws])]),_:1},8,["validation-schema","onSubmit"])])])])])])])])])}}});export{te as default};
