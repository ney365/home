import{d as H,r as g,c as f,s as P,R as z,b as r,e,F as y,h as I,f as t,k as o,m as M,j as O,x as R,T as U,V as Z,W as G,o as c,i as J,t as a,H as w,Z as K,O as Q,y as X}from"./index-c50fc4de.js";import{_ as Y}from"./MyDotDropdownComponent-b0d2efac.js";import{_ as ee}from"./breadcrumb-shape-1-d7e59f85.js";import{u as te}from"./currency.store-9a27cb62.js";import{u as se}from"./withdrawalMethod.store-838333b1.js";import{c as ae,a as N,d as E}from"./index.esm-3e222fcc.js";const l=_=>(Z("data-v-d65966c8"),_=_(),G(),_),oe=O('<section class="breadcrumb__area breadcrumb__border pt-160 pb-85 p-relative" data-v-d65966c8><div class="breadrumb__shape" data-v-d65966c8><img class="breadcrumb__shape-1" src="'+ee+'" alt="" data-v-d65966c8></div><div class="container" data-v-d65966c8><div class="row" data-v-d65966c8><div class="col-xxl-12" data-v-d65966c8><div class="breadcrumb__content text-center" data-v-d65966c8><h3 class="breadcrumb__title" data-v-d65966c8>Withdrawal Method</h3></div></div></div></div></section>',1),le={class:"upcoming__area pt-70 pb-120"},de={class:"container"},ne={class:"row"},ie={class:"col-xxl-12"},re={class:"upcoming__wrapper"},ce={class:"upcoming__item"},_e={class:"upcoming__table"},ue={class:"table"},he=l(()=>e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Action"),e("th",{scope:"col"},"Currency"),e("th",{scope:"col"},"Network"),e("th",{scope:"col"},"Fee"),e("th",{scope:"col"},"Min Withdrawal")])],-1)),pe={class:"stats-item"},me=["onClick"],ve=l(()=>e("i",{class:"bi bi-pencil-square me-2"},null,-1)),fe={class:"upcoming__single d-flex align-items-center"},we={class:"upcoming__thumb mr-10"},be=["src"],ge={class:"upcoming__content"},ye={href:"javascript:;"},Me={class:"stats-item"},Ce={class:"stats-item"},xe={class:"stats-item"},We={class:"w-100"},ke={class:"mb-3"},Se=l(()=>e("label",{class:"form-label text-sharp"},"Currency",-1)),qe=l(()=>e("option",{value:"",disabled:""},"Select a currency",-1)),Fe=["value","selected"],Ie={class:"error-message"},Ne={class:"mb-3"},Ee=l(()=>e("label",{class:"form-label text-sharp"},"Network",-1)),$e={class:"error-message"},Ae={class:"mb-3"},Le=l(()=>e("label",{class:"form-label text-sharp"},"Fee",-1)),Ve={class:"error-message"},Te={class:"mb-3"},je=l(()=>e("label",{class:"form-label text-sharp"},"Min Withdrawal",-1)),Be={class:"error-message"},De=H({__name:"WithdrawalMethodPage",setup(_){const d=g(),u=g(!1),C=g(!1),b=te(),$=f(()=>b.currencies);f(()=>b.loaded).value||b.fetchAll();const h=se(),A=f(()=>h.withdrawalMethods);f(()=>h.loaded).value||h.fetchAll();const p=P({status:z.INFO,title:"",message:"",onConfirm:()=>{}}),L=ae({currencyId:N().required("Currency is required"),network:N().required("Network is required"),fee:E().typeError("Fee is required").min(0,"Fee should not be a nagative value").required("Fee is required"),minWithdrawal:E().typeError("Min withdrawal is required").positive("Min withdrawal should be greater than zero").required("Min withdrawal is required")}),V=m=>{d.value=m,u.value=!0},T=m=>{u.value=!1,h.updateWithdrawalMethod(m)};return(m,v)=>{const j=Y,B=R,n=Q,D=U;return c(),r(y,null,[oe,e("section",le,[e("div",de,[e("div",ne,[e("div",ie,[e("div",re,[e("div",ce,[e("div",_e,[e("table",ue,[he,e("tbody",null,[(c(!0),r(y,null,I(t(A),s=>(c(),r("tr",{key:s._id},[e("td",pe,[o(j,null,{default:M(()=>[e("a",{onClick:()=>V(s),href:"javascript:;",class:"dropdown-item"},[ve,J(" Edit")],8,me)]),_:2},1024)]),e("td",null,[e("div",fe,[e("div",we,[e("img",{src:`/svg/crypto-svg/${s.logo}`,alt:""},null,8,be)]),e("div",ge,[e("a",ye,a(t(w).toTitleCase(s.name)),1)])])]),e("td",Me,a(s.network.toUpperCase()),1),e("td",Ce,a(t(w).toCurreny(s.fee)),1),e("td",xe,a(t(w).toCurreny(s.minWithdrawal)),1)]))),128))])])])])])])])])]),o(B,{"is-open":t(C),status:t(p).status,title:t(p).title,message:t(p).message,onConfirm:t(p).onConfirm,onClose:v[0]||(v[0]=s=>C.value=!1)},null,8,["is-open","status","title","message","onConfirm"]),o(D,{"is-open":t(u),onClose:v[1]||(v[1]=()=>u.value=!1),onConfirm:T,"validation-schema":t(L),title:"Edit Withdrawal Method"},{default:M(({errors:s})=>{var x,W,k,S,q;return[e("div",We,[o(n,{name:"withdrawalMethodId",type:"hidden",class:"form-control",value:(x=t(d))==null?void 0:x._id},null,8,["value"]),e("div",ke,[Se,o(n,{class:K(["default-select form-control wide mb-3",{"border-danger":s.currency}]),name:"currencyId",as:"select",value:(W=t(d))==null?void 0:W.currency,"validate-on-input":!0},{default:M(({value:F})=>[qe,(c(!0),r(y,null,I(t($),i=>(c(),r("option",{class:"text-black",key:i._id,value:i._id,selected:F&&F.includes(i)},a(t(w).toTitleCase(i.name))+" - "+a(i.symbol.toUpperCase()),9,Fe))),128))]),_:2},1032,["value","class"]),e("span",Ie,a(s.currencyId),1)]),e("div",Ne,[Ee,o(n,{name:"network",type:"text",placeholder:"Network",class:"form-control","validate-on-input":!0,value:(k=t(d))==null?void 0:k.network},null,8,["value"]),e("span",$e,a(s.network),1)]),e("div",Ae,[Le,o(n,{name:"fee",type:"number",placeholder:"Fee",class:"form-control","validate-on-input":!0,value:(S=t(d))==null?void 0:S.fee},null,8,["value"]),e("span",Ve,a(s.fee),1)]),e("div",Te,[je,o(n,{name:"minWithdrawal",type:"number",placeholder:"Min Withdrawal",class:"form-control","validate-on-input":!0,value:(q=t(d))==null?void 0:q.minWithdrawal},null,8,["value"]),e("span",Be,a(s.minWithdrawal),1)])])]}),_:1},8,["is-open","validation-schema"])],64)}}});const Je=X(De,[["__scopeId","data-v-d65966c8"]]);export{Je as default};
